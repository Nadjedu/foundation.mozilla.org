{% extends "pages/base.html" %}
{% load wagtailcore_tags wagtailimages_tags homepage_tags card_tags wagtailmetadata_tags multi_image_tags i18n %}

{% block body_id %}home{% endblock %}

{% block org_schema %}
  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Organization",
      "legalName" : "Mozilla Foundation",
      "url" : "https://foundation.mozilla.org",
      "logo" : "https://foundation.mozilla.org/_images/mozlogo.jpg"
    }
  </script>
{% endblock %}

{% block hero_guts %}
  {% include "./fragments/primary_heroguts.html" with root=root page=page homepage=True %}
{% endblock %}

{% block content %}
<div class="container">
  <div class="row mb-5 mt-0 mt-sm-5 d-flex align-items-center flex-sm-row-reverse homepage-feature">
    <div class="col-sm-6 mb-3 mb-sm-0">
      {% optimize_images page.hero_image %}
    </div>
    <div class="col-sm-6">
      <h1 class="h1-heading">{{ page.hero_headline }}</h1>
      <div class="body-large mb-4">{{ page.hero_story_description | richtext }}</div>
      <a class="btn btn-primary d-block d-sm-inline" href="{{page.hero_button_url}}">{{ page.hero_button_text }}</a>
    </div>
  </div>
  {% include "./fragments/areas_of_focus.html" %}
</div>

<div class="container">

  <div class="row">
    <div class="col-12">
      <h2>{{ page.take_action_title }}</h2>
    </div>
    <div class="col-8">
      <div class="row">
        {% for item in page.take_action_cards.all %}
          <a href="{{ item.link }}" class="col-6">
            {% image item.image fill-400x200 as img %}
            <img src="{{ img.url }}" alt="" />
            <div>
              {{ item.text }}
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
    <div class="col-4">
        <div
          class="join-us mb-5"
          data-cta-header="{{ cta.header | escape }}"
          data-cta-description="{{ cta.description | escape }}"
          data-newsletter="{{ cta.newsletter }}">
        </div>
    </div>
  </div>
</div>

<div class="container">
  {% include "./fragments/quote.html" %}
</div>

{% include "./fragments/partner.html" %}
{% comment %}
TODO: Remove this and the backend
<div class="container">
  {% include "./fragments/featured_blogs.html" %}
  {% include "./fragments/featured_stories.html" %}
</div>
{% endcomment %}

{% endblock %}
